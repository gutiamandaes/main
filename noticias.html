<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Café com Trans - Notícias</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="sidebar">
    <h1>Café com Trans</h1>
    <ul class="nav">
        <li><a href="index.html">Início</a></li>
        <li><a href="podcast.html">Ouvir Podcast</a></li>
        <li><a href="noticias.html" class="active">Notícias</a></li>
        <li><a href="comunidade.html">Comunidade</a></li>
        <li><a href="eventos.html">Eventos</a></li>
        <li><a href="loja.html">Loja</a></li>
    </ul>
    <div class="about">
        Informações atualizadas e recursos para a comunidade trans no Brasil.
    </div>
</div>

<div class="main">
    <h1>Notícias</h1>
    <p>Confira as últimas notícias da comunidade trans.</p>

    <ul id="rss-feed"></ul>
</div>

<script>
async function carregarRSS() {
    const url = "https://cafecomtrans.wordpress.com/feed/";
    try {
        const response = await fetch("https://api.allorigins.win/get?url=" + encodeURIComponent(url));
        const data = await response.json();
        const parser = new DOMParser();
        const xml = parser.parseFromString(data.contents, "text/xml");
        const items = xml.querySelectorAll("item");

        let html = "";
        items.forEach((item, index) => {
            if (index < 5) { // Mostra só os 5 mais recentes
                const titulo = item.querySelector("title").textContent;
                const link = item.querySelector("link").textContent;
                const dataPub = item.querySelector("pubDate").textContent;

                html += `<li>
                    <a href="${link}" target="_blank">${titulo}</a><br>
                    <small>${dataPub}</small>
                </li>`;
            }
        });
        document.getElementById("rss-feed").innerHTML = html;
    } catch (e) {
        document.getElementById("rss-feed").innerHTML = "<li>Erro ao carregar notícias.</li>";
    }
}

carregarRSS();
</script>

</body>
</html>
